<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<html lang="en-ca">
  <title>the hella files...</title>
  <head>
    <meta charset="utf-8"> 
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com"> 
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Spicy+Rice&family=Caveat&family=Nunito:wght@200&display=swap&family=Special+Elite&family=Work+Sans:ital,wght@0,400;1,500&display=swap" rel="stylesheet" crossorigin="anonymous">
  
  </head>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="scripts/main.js"></script> 

  <script>
    // First get the page param passed from wherever we just came from...
    // On page load pass the blogType param to the fetchAllBlogs() function
    // which calls the getBlogs API returning blog posts based on the value for blogType
    let params = new URLSearchParams(document.location.search);
    let blogType = params.get("blogType");
    window.addEventListener('load', (event) => {
      fetchBlogs(blogType);
      
      // *** Dynamically display the copyright year
      fetchCopyrightYear();

      // *** Dynamically fetch the blog into blurb based on blogType
      fetchIntro(blogType);

      // *** Dynamically fetch Nav ***
      fetchNav("nav");

      });
  </script>

<body>
  <section>
    <table class="mast-table">
      <tr>
        <td width="80%">
          <div>
           <header class="masthead"><a href="index.html">the hella files</a></header>
        </td>
        </tr>
      </table>
  </section>
  <div>
    <nav>
      <div id="global-nav"></div> <!-- Dynamically fetch the Nav using fetchNav() -->
    </nav>
  </div>

          <main>
            <section>
              <div class="header-style">
                <h1>the Mustang Mach-E blog...</h1>
              </div>
              <div class="flex-container">
                <div id="blog-intro" class="intro">
                  <!-- Intro is dynamically rendered by the fetchIntro() function -->
                  </div>
              </div>
            </section>
            <section>
              <!-- Blog content is dynamically populated here, using the blogsDiv, from the call to fetchBlogs(), 
                then displayBlog() in main.js. This is where the HTML gets generated -->
              <div class="flex-container">
                <div class="blog-entry" id="blogsDiv"></div>
              </div>
            </section> 
          </main>

          
      </div>
  </section>
  <footer class="page-footer">
    <!-- Insert the page copyright: populated by calling fetchCopyrightYear() on page load -->
    <div id="copy"></div> 
   </footer>
</body>

</html>
<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<html lang="en-ca">
  <title>the hella files...</title>
  <head>
    <meta charset="utf-8"> 
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com"> 
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Spicy+Rice&family=Caveat&family=Nunito:wght@200&display=swap&family=Special+Elite&family=Work+Sans:ital,wght@0,400;1,500&display=swap" rel="stylesheet" crossorigin="anonymous">
  
  </head>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="scripts/main.js"></script> 

  <script>
    // First get the page param passed from wherever we just came from...
    // On page load pass the blogType param to the fetchAllBlogs() function
    // which calls the getBlogs API returning blog posts based on the value for blogType
    let params = new URLSearchParams(document.location.search);
    let blogType = params.get("blogType");
    window.addEventListener('load', (event) => {
      fetchBlogs(blogType);
      
      // *** Dynamically display the copyright year
      fetchCopyrightYear();

      // *** Dynamically fetch the blog into blurb based on blogType
      fetchIntro(blogType);
      });
  </script>

<body>
  <section>
    <table class="mast-table">
      <tr>
        <td width="80%">
          <div>
           <header class="masthead"><a href="index.html">the hella files</a></header>
        </td>
        <td id="cms-gif" width="20%">
          <img src="https://s3.us-east-2.amazonaws.com/mellowjohnny.cc.files/img/20220324-01-06-17avion.gif"/>
        </td>
        </tr>
      </table>
  </section>
  <div>
    <nav>
      <table class="top-nav">
        <tr>
          <td class="nav-td"><a href="/index.html">Home</a> </td>
          <td class="nav-td"><a href="/junkWax.html?year=1987">90s Hockey Junk Wax</a> </td>
          <td class="nav-td"><a href="/classicWax.html?year=1979">Classic 80s Hockey Sets</a> </td>
          <td class="nav-td">
            <div class="dropdown">
              <span>Mustang Mach-E</span>
                <div class="dropdown-content">
                  <a href="/ev.html?blogType=3">Mach-E Blog</a> <br><br>
                  <a href="/ev.html?blogType=4">SYNC 4 Updates</a> 
                </div>
            </div>
          </td>
        </tr>
      </table>
    </nav>
  </div>

          <main>
            <section>
              <div class="header-style">
                <h1>the Tech Blog...</h1>
              </div>
              <div class="flex-container">
                <div id="blog-intro" class="intro">
                <!-- Intro is dynamically rendered by the fetchIntro() function -->
                </div>
              </div>
            </section>
            <section>
              <div class="flex-container">
                <div class="blog-entry" id="blogsDiv"></div>
              </div>
            </section> 
          </main>

          
      </div>
  </section>
  <footer class="page-footer">
    <!-- Insert the page copyright: populated by calling fetchCopyrightYear() on page load -->
    <div id="copy"></div> 
   </footer>
</body>

</html>
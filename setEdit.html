<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">


<html lang="en">
    <title>the wee little cms...pick a set to update</title>
    <head>
        <meta charset="utf-8"> 
        <link rel="stylesheet" type="text/css" href="styles/styles.css">
        <link rel="preconnect" href="https://fonts.gstatic.com"> 
        <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Spicy+Rice&family=Caveat&family=Fira+Code:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200&display=swap" rel="stylesheet">
        
        <script src="scripts/cms.js"></script>

        <script>
            /* Let's get the URL params from the request, and extract the year */  
            let params = new URLSearchParams(document.location.search);
            let setID = params.get("setID");

            /* 
            *   Call to fetchCardSetsByID() on page load, dynamically passing the set year we want to fetch
            *   It is responsible for calling the underlying AWS web service
            *   Can also use the year to dynamically populate our page header...removed for now   */ 
             
            window.addEventListener('load', (event) => {
                fetchCardSetByID(setID);
            }); 
          
        </script>
    </head>

    <body>
        <section>
            <div>
                <header class="masthead">the hella files cms</header>  
                <main>
                  <div>
                    <nav>
                      <table class="top-nav">
                        <tr>
                          <td class="nav-td"><a href="createBlogPost.html">New Blog Post</a> </td>
                          <td class="nav-td"><a href="createCardSet.html">New Card Set</a> </td>
                        </tr>
                      </table>
                    </nav>
                  </div>
                  <div class="header-style">
                    <h1>...set edit</h1>
                  </div>
                  <br>
                  <section>
                    <div>
                          <main>
                              <form class="form-style">
                                  <label>Set Name</label><br>
                                  <input type="text" id="setName" title="setName"><br><br>
                                  <label>Set Size</label><br>
                                  <input type="text" id="size" title="size"><br><br>
                                  <label>Inserts</label><br>
                                  <input type="text" id="subsets" title="subsets"><br><br>
                                  <label>Star Rating</label><br>
                                  <select id="stars" name="stars" title="stars">
                                    <option value="1">One Star</option>
                                    <option value="2">Two Stars</option>
                                    <option value="3">Three Stars</option>
                                    <option value="4">Four Stars</option>
                                    <option value="5">Five Stars</option>
                                  </select><br><br>
                                  <label>Formats</label><br>
                                  <input type="text" id="formats" title="formats"><br><br>
                                  <label>Manufacturer</label><br><br>
                                  <select id="mfg" name="mfg" title="mfg">
                                      <option value="O-Pee-Chee">O-Pee-Chee</option>
                                      <option value="Topps">Topps</option>
                                      <option value="Upper Deck">Upper Deck</option>
                                      <option value="Score">Score</option>
                                      <option value="Pro Set">Pro Set</option>
                                  </select><br><br>
                                  <label>Release Year</label><br>
                                  <input type="text" id="year" title="year"><br><br>
                                  <label>Set Review Text</label><br>
                                  <textarea id="postBody" title="postBody"></textarea><br><br>
                                  <button class="input-button" type="button" 
                                      onclick="updateCardSet(
                                              document.getElementById('setName').value,
                                              document.getElementById('size').value,
                                              document.getElementById('subsets').value,
                                              document.getElementById('stars').value,
                                              document.getElementById('formats').value,
                                              document.getElementById('year').value,
                                              document.getElementById('postBody').value,
                                              document.getElementById('mfg').value)">
                                      Update Card Set
                                  </button>
                              </form>
                          </main>
                      </div>
                  </section>
                </main>
            </div>
        </section>
        <footer class="page-footer">
            <p>&copy; 2022 Christian Couillard</p>
            <a href="index.html">home</a> &nbsp; &nbsp; <a href="s3Example.html">S3</a>
          </footer>